{
    "AWSEBDockerrunVersion": 2,
    "containerDefinitions": [
      {
        "name": "nginx",
        "image": "shan1500/multi-nginx",
        "essential": true,
        "portMappings": [
          {
            "hostPort": 80,
            "containerPort": 80
          }
        ],
        "links": ["client", "server"]
      },
      {
        "name": "client",
        "image": "shan1500/multi-client",
        "essential": false,
        "environment": [
          {
            "name": "NODE_ENV",
            "value": "production"
          }
        ]
      },
      {
        "name": "server",
        "image": "shan1500/multi-server",
        "essential": false,
        "environment": [
          { "name": "PGUSER", "value": "postgres" },
          { "name": "PGPASSWORD", "value": "postgres_password" },
          { "name": "PGHOST", "value": "postgres" },
          { "name": "PGDATABASE", "value": "postgres" },
          { "name": "PGPORT", "value": "5432" },
          { "name": "REDIS_HOST", "value": "redis" }
        ]
      },
      {
        "name": "worker",
        "image": "shan1500/multi-worker",
        "essential": false,
        "environment": [
          { "name": "PGUSER", "value": "postgres" },
          { "name": "PGPASSWORD", "value": "postgres_password" },
          { "name": "PGHOST", "value": "postgres" },
          { "name": "PGDATABASE", "value": "postgres" },
          { "name": "PGPORT", "value": "5432" },
          { "name": "REDIS_HOST", "value": "redis" }
        ]
      },
      {
        "name": "postgres",
        "image": "postgres:13",
        "essential": false,
        "environment": [
          { "name": "POSTGRES_PASSWORD", "value": "postgres_password" }
        ]
      },
      {
        "name": "redis",
        "image": "redis:alpine",
        "essential": false
      }
    ]
  }